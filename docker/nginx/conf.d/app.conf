server {
    listen 80;
    server_name _;


    location / {
        sendfile on;
        sendfile_max_chunk 512k;

        tcp_nopush on;

        aio threads=default;
        aio_write on;

        directio 16m;

        access_log off;

        proxy_max_temp_file_size 32m;        
        proxy_pass http://unix:/var/run/piped-proxy/actix.sock;

        location ~ /videoplayback {
            if ($content_length = 0) {
                return 502;
            }
        }
    }
}